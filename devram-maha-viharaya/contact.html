<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact</title>

<link rel="stylesheet" href="../dis_style.css">

<style>
  body {
    margin: 0;
    padding: 0;
    background: #ffffff;
  }
</style>
</head>

<body>

<!-- CONTENT WRAPPER -->
<div class="content">

  <!-- SUB BAND -->
  <div class="sub-band">
    <img src="../provinces/1.png" class="sub-band-icon" alt="Icon">

    <div class="sub-band-text">
      <p>ශ්‍රී දෙව්රම් මහා විහාරය</p>
      <p>පන්නිපිටිය</p>
    </div>

    <div class="sub-band-text1">
      <p>Sri Dewram Maha Viharaya</p>
    </div>
  </div>

  <!-- CONTACT DETAILS -->
  <div class="info-box">

    <!-- Map -->
    <div class="contact-item">
      <iframe id="contact-map"
        width="100%" height="250"
        style="border:0;"
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

    <div class="contact-info">

      <p class="contact-row">
        <span class="label en">Address:</span>
        <span class="label si">ලිපිනය:</span>
        <span class="value" id="contact-address"></span>
      </p>

      <p class="contact-row">
        <span class="label en">Email:</span>
        <span class="label si">ඊ-තැපැල්:</span>
        <span class="value" id="contact-email"></span>
      </p>

      <p class="contact-row">
        <span class="label en">Telephone:</span>
        <span class="label si">දුරකථන:</span>
        <a class="value" id="contact-telephone" href=""></a>
      </p>

      <p class="contact-row">
        <span class="label en">Website:</span>
        <span class="label si">වෙබ් අඩවිය:</span>
        <span class="value" id="contact-website"></span>
      </p>

    </div>
  </div>

</div> <!-- END content -->


<script>
document.addEventListener("DOMContentLoaded", function () {

    const templeID = "t-10";

    fetch("info.txt")
        .then(res => res.text())
        .then(data => {

            const info = {};
            let reading = false;

            data.split(/\r?\n/).forEach(line => {
                line = line.trim();
                if (!line) return;

                if (line === `id=${templeID}`) {
                    reading = true;
                    return;
                }

                if (reading && line.startsWith("id=")) {
                    reading = false;
                    return;
                }

                if (reading && line.includes("=")) {
                    const [key, ...rest] = line.split("=");
                    info[key.trim()] = rest.join("=").trim();
                }
            });

            if (info.map) {
                document.getElementById("contact-map").src = info.map;
            }

            if (info.address) {
                document.getElementById("contact-address").textContent = info.address;
            }

            if (info.email) {
                const emailEl = document.getElementById("contact-email");
                const emailLink = document.createElement("a");
                emailLink.href = "mailto:" + info.email;
                emailLink.textContent = info.email;
                emailEl.appendChild(emailLink);
            }

            if (info.telephone) {
                const tel = info.telephone.replace(/\s+/g, "");
                const telEl = document.getElementById("contact-telephone");
                telEl.textContent = info.telephone;
                telEl.href = "tel:" + tel;
            }

            if (info.website) {
                const websiteEl = document.getElementById("contact-website");
                websiteEl.innerHTML =
                    `<a href="${info.website}" target="_blank" rel="noopener noreferrer">${info.website}</a>`;
            }

        })
        .catch(err => console.error("Contact load error:", err));
});
</script>


<footer>
  <div class="footer-content">
    © ව්‍යාපෘතිය: සුනිල් රණසිංහ <br>
    සංකල්පය: ශාසන සුභ සාධන දේශ කීර්ති ශ්‍රී දේශබන්දු<br>
    සම්පත් රණසිංහ<br>
    දත්ත: ධනේශ් රණසිංහ
  </div>
</footer>

</body>
</html>