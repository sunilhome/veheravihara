     <!DOCTYPE html>
<html lang="si">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--<meta name="theme-color" content="#000000">-->
<title>Temple Page</title>
<meta name="description" id="metaDescription" content="">

<link rel="stylesheet" href="../provinces/new-style.css">

</head>

<body>

  <!-- top fixed band -->
<div class="top-band">
  <a href="javascript:history.back()" class="top-icon">&#8592;</a>
  <a href="/index.html" class="top-icon">&#127969;</a>
  <a href="tel:+94766178102" class="top-icon top-tele">&#128222;</a>
<a href="contact.html" class="top-icon top-mail">&#128233;</a>
</div> 
 
  <!-- content -->
  <div class="content">

    <!-- full-width sub-band inside content -->
<div class="sub-band">
  <!-- icon centered on top -->
  <img src="../provinces/1.png" class="sub-band-icon" alt="Icon">

  <!-- Sinhala text below icon -->
  <div class="sub-band-text">
    <p>‡∂∏‡∑Ñ‡∂∏‡∑ö‡∂ù‡∑è‡∂ª‡∑è‡∂∏ ‡∑Ä‡∑í‡∑Ñ‡∑è‡∂ª‡∂∫</p>
    <p>‡∂∏‡∑Ñ‡∂ª‡∂ú‡∂∏</p>
  </div>
       <div class="sub-band-text1">
        <p>Mahamegaramaya Maharagama</p>
  </div>

</div>  

    <!-- LANGUAGE BUTTONS -->
    <div class="button-box">
      <button class="action-btn" onclick="loadInfo('si')">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</button>
      <button class="action-btn" onclick="loadInfo('en')">English</button>
    </div>
<div class="button-box">
  <button class="audio" onclick="toggleAudio('a1', this)">
    üîä
  </button>

  <button class="audio" onclick="toggleAudio('a2', this)">
    üîä
  </button>
</div>

<audio id="a1" src="audio1.mp3"></audio>
<audio id="a2" src="audio2.mp3"></audio>

<script>
let currentAudio = null;
let currentBtn = null;

function toggleAudio(id, btn) {
  const audio = document.getElementById(id);

  // same button clicked ‚Üí stop & reset
  if (currentAudio === audio && !audio.paused) {
    audio.pause();
    audio.currentTime = 0;
    btn.classList.remove('active');
    currentAudio = null;
    currentBtn = null;
    return;
  }

  // stop previous audio
  if (currentAudio) {
    currentAudio.pause();
    currentAudio.currentTime = 0;
  }
  if (currentBtn) {
    currentBtn.classList.remove('active');
  }

  // play new audio
  audio.play();
  btn.classList.add('active');

  currentAudio = audio;
  currentBtn = btn;

  // üîπ RESET WHEN AUDIO ENDS
  audio.onended = function () {
    btn.classList.remove('active');
    currentAudio = null;
    currentBtn = null;
  };
}
</script>

    <!-- CONTENT -->
    <div class="info-box">
      <h2 id="history-title">‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫</h2>
      <div id="temple-text">Loading...</div>
    </div>

    <!-- BACK -->
    <button class="back-btn" onclick="window.location.href='index.html'">
      ‚Üê Back to Temple Main Page
    </button>

  </div>
<footer>
    <div class="footer-content">
        ¬© ‡∑Ä‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∑ò‡∂≠‡∑í‡∂∫: ‡∑É‡∑î‡∂±‡∑í‡∂Ω‡∑ä ‡∂ª‡∂´‡∑É‡∑í‡∂Ç‡∑Ñ <br>
         ‡∑É‡∂Ç‡∂ö‡∂Ω‡∑ä‡∂¥‡∂∫: ‡∑Å‡∑è‡∑É‡∂± ‡∑É‡∑î‡∂∑ ‡∑É‡∑è‡∂∞‡∂± ‡∂Ø‡∑ö‡∑Å ‡∂ö‡∑ì‡∂ª‡∑ä‡∂≠‡∑í ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ø‡∑ö‡∑Å‡∂∂‡∂±‡∑ä‡∂Ø‡∑î<br>
		‡∑É‡∂∏‡∑ä‡∂¥‡∂≠‡∑ä ‡∂ª‡∂´‡∑É‡∑í‡∂Ç‡∑Ñ<br>
        ‡∂Ø‡∂≠‡∑ä‡∂≠: ‡∂∞‡∂±‡∑ö‡∑Å‡∑ä ‡∂ª‡∂´‡∑É‡∑í‡∂Ç‡∑Ñ
    </div>
</footer>

  <!-- SCRIPT -->
  <script>
    async function loadInfo(lang) {
      const file = lang === 'si' ? 'info-si.txt' : 'info-en.txt';
      const box = document.getElementById('temple-text');
      const title = document.getElementById('history-title');

      title.textContent = (lang === 'si') ? '‡∂â‡∂≠‡∑í‡∑Ñ‡∑è‡∑É‡∂∫' : 'History';
      box.innerHTML = '';

      try {
        const res = await fetch(file);
        const text = await res.text();

        text.split(/\r?\n\r?\n|\r?\n/).forEach(line => {
          const t = line.trim();
          if (!t) return;

          if (t.startsWith('#')) {
            const h3 = document.createElement('h3');
            h3.textContent = t.substring(1).trim();
            box.appendChild(h3);
          } else {
            const p = document.createElement('p');
            p.textContent = t;
            box.appendChild(p);
          }
        });

      } catch {
        box.textContent = 'Information not available.';
      }
    }

    // initial load
    loadInfo('si');
  </script>

</body>

</html>
